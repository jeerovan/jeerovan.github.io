<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Collage Maker</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
    <div class="flex flex-col h-screen">
        <!-- Toolbar -->
        <div class="bg-white shadow-md p-2 flex justify-between items-center z-10">
            <div class="flex items-center space-x-4">
                <label for="template-select" class="text-sm font-medium text-gray-700">Template:</label>
                <select id="template-select" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                    <option value="1:1">Instagram Post (1:1)</option>
                    <option value="9:16">YouTube Shorts (9:16)</option>
                    <option value="1:1">Square (1:1)</option>
                    <option value="3:4">Portrait (3:4)</option>
                    <option value="custom">Custom</option>
                </select>
                <div id="custom-size-inputs" class="hidden items-center space-x-2">
                    <input type="number" id="custom-width" placeholder="Width" class="w-20 border-gray-300 rounded-md shadow-sm text-sm">
                    <span class="text-gray-500">x</span>
                    <input type="number" id="custom-height" placeholder="Height" class="w-20 border-gray-300 rounded-md shadow-sm text-sm">
                    <button id="apply-custom-size" class="px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm">Apply</button>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                <button id="undo-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 text-sm font-medium">Undo</button>
                <button id="redo-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 text-sm font-medium">Redo</button>
            </div>
            <div class="flex items-center space-x-2">
                <button id="export-png-btn" class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 text-sm font-medium">Export PNG</button>
                <button id="export-jpeg-btn" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm font-medium">Export JPEG</button>
                <button id="export-webp-btn" class="px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 text-sm font-medium">Export WEBP</button>
                <button id="copy-btn" class="px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 text-sm font-medium">Copy</button>
            </div>
        </div>

        <div class="flex flex-1 overflow-hidden">
            <!-- Side Panel -->
            <div class="w-72 bg-white p-4 overflow-y-auto border-r space-y-6">
                <div class="panel-section">
                    <h3 class="text-lg font-semibold mb-3 border-b pb-2 text-gray-800">Import</h3>
                    <label for="image-upload" class="w-full text-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 cursor-pointer block">Upload Images</label>
                    <input type="file" id="image-upload" multiple accept="image/*" class="hidden">
                    <p class="text-xs text-gray-500 mt-2 text-center">Or drag & drop images onto the canvas.</p>
                </div>

                <div class="panel-section">
                    <h3 class="text-lg font-semibold mb-3 border-b pb-2 text-gray-800">Image Filters</h3>
                    <div id="filter-controls" class="space-y-3">
                        <div class="flex items-center justify-between"><label for="grayscale-filter" class="text-sm">Grayscale</label><input type="checkbox" id="grayscale-filter" class="rounded"></div>
                        <div class="flex items-center justify-between"><label for="sepia-filter" class="text-sm">Sepia</label><input type="checkbox" id="sepia-filter" class="rounded"></div>
                        <div><label for="blur-filter" class="text-sm">Blur</label><input type="range" id="blur-filter" min="0" max="1" step="0.01" value="0" class="w-full"></div>
                        <div><label for="brightness-filter" class="text-sm">Brightness</label><input type="range" id="brightness-filter" min="-1" max="1" step="0.01" value="0" class="w-full"></div>
                        <div><label for="contrast-filter" class="text-sm">Contrast</label><input type="range" id="contrast-filter" min="-1" max="1" step="0.01" value="0" class="w-full"></div>
                        <div><label for="saturation-filter" class="text-sm">Saturation</label><input type="range" id="saturation-filter" min="-1" max="1" step="0.01" value="0" class="w-full"></div>
                        <button id="reset-filters-btn" class="w-full mt-2 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 text-sm font-medium">Reset Filters</button>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="text-lg font-semibold mb-3 border-b pb-2 text-gray-800">Text Tool</h3>
                    <div id="text-controls" class="space-y-3">
                        <input type="text" id="text-input" placeholder="Enter text..." class="w-full border-gray-300 rounded-md shadow-sm text-sm">
                        <div class="flex items-center space-x-2">
                            <select id="font-family-select" class="flex-1 border-gray-300 rounded-md shadow-sm text-sm">
                                <option>Arial</option><option>Verdana</option><option>Georgia</option><option>Courier New</option><option>Lucida Console</option>
                            </select>
                            <input type="color" id="text-color-input" value="#000000" class="w-10 h-10 p-1 border border-gray-300 rounded-md">
                        </div>
                        <button id="add-text-btn" class="w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium">Add Text</button>
                    </div>
                </div>

                <div class="panel-section">
                    <h3 class="text-lg font-semibold mb-3 border-b pb-2 text-gray-800">Background</h3>
                    <input type="color" id="bg-color-input" value="#ffffff" class="w-full h-10 p-1 border border-gray-300 rounded-md">
                </div>

                <div class="panel-section">
                    <h3 class="text-lg font-semibold mb-3 border-b pb-2 text-gray-800">Layers</h3>
                    <div id="layers-panel" class="space-y-2"></div>
                </div>
            </div>

            <!-- Canvas -->
            <div id="canvas-parent" class="flex-1 p-6 flex justify-center items-center bg-gray-200">
                <div class="canvas-container shadow-lg">
                    <canvas id="collage-canvas"></canvas>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <script src="script.js"></script>
</body>
</html>